{% extends "base.html.twig" %}
{% block title %}Hello page{% endblock %}
{% block styles %}
    {{ parent() }}
    <!--<link rel="stylesheet" type="text/css" href="{{ base_url() }}/assets/css/example.css">-->
{% endblock %}
{% block scripts %}
    {{ parent() }}
    <script src="{{ base_url() }}/assets/js/registerSubmit.js"></script>
{% endblock %}
{% block header %}
    {{ parent() }}
{% endblock %}
{% block content %}
    <form action="/register" method="post" id="registerForm" enctype="multipart/form-data">
        <div class="form-group">
            <label for="username">Nombre de usuario</label>
            <input type="text" class="form-control" name="username" id="username" placeholder="Introduce el nombre de usuario que quieres" required pattern="^[a-zA-Z0-9]{1,20}" aria-describedby="usernameHelpInline">
            <div class="invalid-feedback">
                <strong>Introduce un nombre de usuario:</strong>
            </div>
            <small id="usernameHelpBlock" class="form-text text-muted">
                Sólo puede contener caracteres alfanuméricos y su longitud máxima es de 20 caracteres.
            </small>
        </div>
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" class="form-control" name="email" id="email" placeholder="Introduce un email válido" required>
            <div class="invalid-feedback">
                <strong>Introduce un email válido.</strong>
            </div>
        </div>
        <div class="form-group">
            <label for="birthdate">Fecha de nacimiento</label>
            <input type="date" class="form-control" name="birthdate" id="birthdate" placeholder="¿Cuándo naciste?" required>
            <div class="invalid-feedback">
                <strong>Introduce una fecha válida con el formato correcto.</strong>
            </div>
        </div>
        <div class="form-group">
            <label for="password">Contraseña</label>
            <input type="password" class="form-control" name="password" id="password" placeholder="Introduce una contraseña" required pattern="^(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{6,12}$" aria-describedby="passwordHelpInline">
            <div class="invalid-feedback">
                <strong>Introduce una contraseña con el formato indicado:</strong>
            </div>
            <small id="passwordHelpBlock" class="form-text text-muted">
                La contraseña debe tener una longitud de entre 6 y 12 caracteres y debe contener al menos un número y una letra mayúscula.
            </small>
        </div>
        <div class="form-group">
            <label for="confirm_password">Repite la contraseña</label>
            <input type="confirm_password" class="form-control" name="confirm_password" id="confirm_password" placeholder="Repite la contraseña" required>
            <div class="invalid-feedback">
                <strong>Las contraseñas no coinciden.</strong>
            </div>
        </div>
        <div class="form-group">
            <label for="profile_image">Imagen de perfil (opcional)</label>
            <input type="file" name="profile_image" id="profile_image" style="display: block">
        </div>
        <input type="submit" class="btn btn-primary" value="Crear la cuenta" id="registerSubmit">
    </form>
    {% if error %}
        <div class="alert alert-danger" role="alert">
            <h4 class="alert-heading">Error</h4>
            <p>{{ error }}</p>
            <hr>
            <p class="mb-0">You can...</p>
        </div>
    {% endif %}
    {% for message in messages %}
        <div class="alert alert-success" role="alert">
            <h4 class="alert-heading">Success</h4>
            <p>{{ message }}</p>
            <hr>
            <p class="mb-0">You can...</p>
        </div>
    {% endfor %}
{% endblock %}
{% block footer %}
    {{ parent() }}
{% endblock %}