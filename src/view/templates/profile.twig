{% extends "base.html.twig" %}
{% import "macros/userform.html.twig" as form %}
{% block title %}
    Register{{ parent() }}
{% endblock %}
{% block styles %}
    {{ parent() }}
    <!--<link rel="stylesheet" type="text/css" href="{{ base_url() }}/assets/css/example.css">-->
{% endblock %}
{% block scripts %}
    {{ parent() }}
    <script src="{{ base_url() }}/assets/js/registerSubmit.js"></script>
    <script>
        function deleteUser(){
            swal({
                title: "¿Eliminar cuenta?",
                icon: "warning",
                text: "Si eliminas tu cuenta perderás todos tus documentos! Si deseas continuar haz click en 'Eliminar'.",
                buttons: {
                    cancel: "Cancelar",
                    confirm: "Eliminar"
                },
                dangerMode: true,
            }).then(function(confirm){
                if(confirm){
                    $("#deleteUserForm").submit();
                }
            });
        }
    </script>
{% endblock %}
{% block header %}
    {{ parent() }}
{% endblock %}
{% block content %}
    {% if error %}
        <div class="alert alert-danger" role="alert">
            <h4 class="alert-heading">Error</h4>
            <p>{{ error }}</p>
        </div>
    {% endif %}
    {{ form.userForm(user.username, user.email, user.birthdate, "", "", "", "Guardar") }}
    <div class="text-right">
        <form id="deleteUserForm" action="/deleteUser" method="POST">
            <button onclick="deleteUser()" type="button" class="btn btn-danger">ELIMINAR CUENTA</button>
        </form>
    </div>
{% endblock %}
{% block footer %}
    {{ parent() }}
{% endblock %}